<link href="http://110.42.45.236:23366/dist/Artalk.css" rel="stylesheet">
<script src="http://110.42.45.236:23366/dist/Artalk.js"></script>

<div id="Comments"></div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  new Artalk({
    el: '#Comments',
    pageKey: '{{ page.url }}',
    server: '{{ site.artalk.server }}',
    site: '{{ site.artalk.site }}',
    placeholder: '{{ site.artalk.placeholder }}',
    darkMode: {{ site.artalk.darkMode }},
    locale: '{{ site.artalk.locale }}'
  })
})
</script>
<script>
// 在初始化前添加协议强制
const artalkServer = '{{ site.artalk.server }}'.replace(/^https?:/, 'http:');
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  new Artalk({
    el: '#Comments',
    server: artalkServer,  // 使用修正后的地址
    // 其他参数保持不变...
  })
})
</script>
